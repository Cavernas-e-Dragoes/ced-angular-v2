<app-header></app-header>
<section>
  <form>
    <div class="filter-group">
      <label for="level">NÃ­vel:</label>
      <div class="icons">
        <div *ngFor="let level of levels" class="icon" (click)="applyFilter('level', level)">
            <i class="fa fa-star" [ngClass]="{ 'selected': filters.level === level.toString() }"></i>
        </div>
      </div>
    </div>

    <div class="filter-group">
      <label for="school">Escola:</label>
      <div class="icons">
        <div *ngFor="let school of schools" class="icon" (click)="applyFilter('school', school)">
          <i class="fa" [ngClass]="{ 'selected': filters.school === school }">{{ school.charAt(0) }}</i>
        </div>
      </div>
    </div>

    <div class="filter-group">
      <label for="class">Classe:</label>
      <div class="icons">
        <div *ngFor="let className of classes" class="icon" (click)="applyFilter('class', className)">
          <i class="fa" [ngClass]="{ 'selected': filters.class === className }">{{ className.charAt(0) }}</i>
        </div>
      </div>
    </div>
  </form>

  <div *ngIf="loading">Carregando...</div>
  <div *ngIf="error">{{ error }}</div>

  <div *ngIf="!loading && !error">
    <div class="magics-container" *ngIf="magias.results.length > 0; else noResults">
      <div *ngFor="let magia of magias.results" class="item" (click)="goToDetail(magia.index)">
        <h3>{{ magia.name }}</h3>
      </div>
    </div>
    <ng-template #noResults>
      <p>Nenhuma magia encontrada com os filtros aplicados.</p>
    </ng-template>
  </div>
</section>
<app-footer></app-footer>
